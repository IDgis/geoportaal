@(create: Boolean, 
	uuid: String, 
	today: String, 
	datasetRow: com.querydsl.core.Tuple, 
	subjectsDataset: java.util.List[String],
	attachmentsDataset: java.util.List[com.querydsl.core.Tuple], 
	typeInformationList: java.util.List[com.querydsl.core.Tuple], 
	creatorList: java.util.List[com.querydsl.core.Tuple], 
	rightsList: java.util.List[com.querydsl.core.Tuple], 
	useLimitationList: java.util.List[com.querydsl.core.Tuple],
	infoFormatList: java.util.List[com.querydsl.core.Tuple], 
	subjectList: java.util.List[com.querydsl.core.Tuple]
)

@import models.QDataset.dataset
@import models.QTypeInformations.typeInformations
@import models.QCreators.creators
@import models.QRights.rights
@import models.QUseLimitations.useLimitations
@import models.QInfoFormats.infoFormats
@import models.QSubjects.subjects
@import models.QDataAttachment.dataAttachment
@import models.QDataAttachment.dataAttachment

@main(if(create) {"Toevoegen"} else {"Wijzigen"}, routes.Assets.versioned("javascripts/add-record.js").url) {
	<div class="welkom">
		<p class="welkom">Vul de velden zo volledig mogelijk in.</p>
		<p class="welkom">* = verplicht</p>
	</div>
	
	@helper.form(action = routes.Add.submit(), 'enctype -> "multipart/form-data", 'class -> "form-horizontal beheer-formulier") {
		<div class="form-group">
			<label class="col-sm-3 control-label">Unieke ID</label>
			<div class="col-sm-8">
				<input class="form-control" type="text" data-toggle="tooltip" data-placement="top" title="De unieke ID van de data" 
				name="id" value="@if(create) {@uuid} else {@datasetRow.get(dataset.id)}" readonly>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Locatie*</label>
			<div class="col-sm-8">
				<input class="form-control js-mandatory" type="text" data-toggle="tooltip" data-placement="top" data-field="locatie"
				title="Vul het pad naar het bestand op de computer in" name="location" value="@if(!create) {@datasetRow.get(dataset.location)}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Kenmerk</label>
			<div class="col-sm-8">
				<input class="form-control" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul het kenmerk in" name="fileId" value="@if(!create) {@datasetRow.get(dataset.fileId)}">
			</div>
		</div>
		
		<div class="form-group">
			<label class="col-sm-3 control-label">Titel*</label>
			<div class="col-sm-8">
				<input class="form-control js-mandatory" type="text" data-toggle="tooltip" data-placement="top" data-field="titel"
				title="Vul de titel in" name="title" value="@if(!create) {@datasetRow.get(dataset.title)}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Omschrijving*</label>
			<div class="col-sm-8">
				<textarea class="form-control js-mandatory" rows="4" data-toggle="tooltip" data-placement="top" data-field="omschrijving"
				title="Vul de omschrijving in" name="description">@if(!create) {@datasetRow.get(dataset.description)}</textarea>
			</div>
		</div>
		<div id="js-group-attachment">
			<div class="form-group js-attachment">
				<label class="col-sm-3 control-label">Bijlage</label>
				<div class="col-sm-8 form-inline js-attachment-input">
					<input id="input-attachment" type="file" data-toggle="tooltip" data-placement="top" title="Voeg de bijlage(s) toe"
					name="attachmentName[]">
					<button class="knop js-add-attachment" type="button">
						<span class="glyphicon glyphicon-plus"></span>
					</button>
					
				</div>
				
			</div>
		</div>
		@if(!create) {
			<div id="attachment-files-box" class="col-sm-offset-3 col-sm-8">
				@if(attachmentsDataset != null) {
					@for(attachmentFile <- attachmentsDataset) {
						<p class="attachment-file">@attachmentFile.get(dataAttachment.attachmentName)</p>
					}
				}
			</div>
		}
		
		<div class="form-group">
			<label class="col-sm-3 control-label">Type informatie</label>
			<div class="col-sm-8">
				<select class="form-control" data-toggle="tooltip" data-placement="top" title="Selecteer het type informatie"
				name="typeInfo">
					@for(typeInformationOption <- typeInformationList) {
						<option value="@typeInformationOption.get(typeInformations.identification)" 
						@if(!create && datasetRow.get(dataset.typeInfo) == typeInformationOption.get(typeInformations.identification)) {selected}>
							@typeInformationOption.get(typeInformations.label)
						</option>
					}
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Eindverantwoordelijke*</label>
			<div class="col-sm-8">
				<select id="js-creator-select" class="form-control" data-toggle="tooltip" data-placement="top" 
				title="Selecteer de eindverantwoordelijke" name="creator">
					@for(creatorOption <- creatorList) {
						<option value="@creatorOption.get(creators.identification)" 
						@if(!create && datasetRow.get(dataset.creator) == creatorOption.get(creators.identification)) {selected}>
							@creatorOption.get(creators.label)
						</option>
					}
				</select>
			</div>
		</div>
		<div class="form-group" id="js-other-creator">
			<label class="col-sm-3 control-label"></label>
			<div class="col-sm-8">
				<input id="js-other-creator-input" class="form-control" type="text" placeholder="Voer eindverantwoordelijke van bestand in">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Eigendomsrechten</label>
			<div class="col-sm-8">
				<select class="form-control" data-toggle="tooltip" data-placement="top" title="Selecteer de eigendomsrechten"
				name="rights">
					@for(rightsOption <- rightsList) {
						<option value="@rightsOption.get(rights.identification)"
						@if(!create && datasetRow.get(dataset.rights) == rightsOption.get(rights.identification)) {selected}>
							@rightsOption.get(rights.label)
						</option>
					}
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Gebruiksrestricties*</label>
			<div class="col-sm-8">
				<select class="form-control" data-toggle="tooltip" data-placement="top" title="Selecteer de gebruiksrestrictie"
				name="useLimitation">
					@for(useLimitationOption <- useLimitationList) {
						<option value="@useLimitationOption.get(useLimitations.identification)"
						@if(!create && datasetRow.get(dataset.useLimitation) == useLimitationOption.get(useLimitations.identification)) {selected}>
							@useLimitationOption.get(useLimitations.label)
						</option>
					}
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Formaat</label>
			<div class="col-sm-8">
				<select class="form-control" data-toggle="tooltip" data-placement="top" 
				title="Selecteer het formaat van de data" name="format">
					@for(infoFormatOption <- infoFormatList) {
						<option value="@infoFormatOption.get(infoFormats.identification)"
						@if(!create && datasetRow.get(dataset.format) == infoFormatOption.get(infoFormats.identification)) {selected}>
							@infoFormatOption.get(infoFormats.label)
						</option>
					}
				</select>
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Bron</label>
			<div class="col-sm-8">
				<input class="form-control" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul de persoon of organisatie waar de bron vandaan komt" name="source" 
				value="@if(!create) {@datasetRow.get(dataset.source)}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Datum creatie</label>
			<div class="col-sm-4">
				<input class="form-control js-date" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul de datum in wanneer de metadata gemaakt is" name="dateSourceCreation" 
				value="@if(create) {@today} else {@datasetRow.get(dataset.dateSourceCreation.dayOfMonth())-@datasetRow.get(dataset.dateSourceCreation.month())-@datasetRow.get(dataset.dateSourceCreation.year())}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Datum publicatie</label>
			<div class="col-sm-4">
				<input class="form-control js-date" type="text" data-toggle="tooltip"  data-placement="top" 
				title="Vul de datum in wanneer de metadata gepubliceerd is" name="dateSourcePublication" 
				value="@if(create) {@today} else {@datasetRow.get(dataset.dateSourcePublication.dayOfMonth())-@datasetRow.get(dataset.dateSourcePublication.month())-@datasetRow.get(dataset.dateSourcePublication.year())}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Datum mutatie</label>
			<div class="col-sm-4">
				<input class="form-control js-date" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul de datum in wanneer de metadata gewijzigd is" name="dateSourceRevision" 
				value="@if(create) {@today} else {@datasetRow.get(dataset.dateSourceRevision.dayOfMonth())-@datasetRow.get(dataset.dateSourceRevision.month())-@datasetRow.get(dataset.dateSourceRevision.year())}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Datum geldig, van</label>
			<div class="col-sm-4">
				<input class="form-control js-date" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul de datum in vanaf wanneer de bron geldig is" name="dateSourceValidFrom" 
				value="@if(create) {@today} else {@datasetRow.get(dataset.dateSourceValidFrom.dayOfMonth())-@datasetRow.get(dataset.dateSourceValidFrom.month())-@datasetRow.get(dataset.dateSourceValidFrom.year())}">
			</div>
		</div>
		<div class="form-group">
			<label class="col-sm-3 control-label">Datum geldig, tot</label>
			<div class="col-sm-4">
				<input class="form-control js-date" type="text" data-toggle="tooltip" data-placement="top" 
				title="Vul de datum in tot wanneer de bron geldig is" name="dateSourceValidUntil" 
				value="@if(create) {@today} else {@datasetRow.get(dataset.dateSourceValidUntil.dayOfMonth())-@datasetRow.get(dataset.dateSourceValidUntil.month())-@datasetRow.get(dataset.dateSourceValidUntil.year())}">
			</div>
		</div>
		<div class="form-group" data-toggle="tooltip" data-placement="top" title="Vink de onderwerpen aan die van toepassing zijn op de data">
			<label class="col-sm-3 control-label">ISO onderwerp*</label>
			<div class="col-sm-4">
				@for(subjectOption <- subjectList) {
					<div>
						<input type="checkbox" class="js-subject-input" name="subject[]" value="@subjectOption.get(subjects.identification)" 
							@if(subjectsDataset != null) {
								@for(subject <- subjectsDataset) {
									@if(subject == subjectOption.get(subjects.identification)) {checked}
								}
							}
						>
						<span>@subjectOption.get(subjects.label)</span>
					</div>
				}
			</div>
		</div>
		<div id="js-form-warning-fields">
			<div class="alert alert-danger" role="alert">
	 			<b></b>
			</div>
		</div>
		<div id="js-form-warning-subjects">
			<div class="alert alert-danger" role="alert">
	 			<b>Er moet minimaal &#233;&#233;n onderwerp aangevinkt zijn.</b>
			</div>
		</div>
		<div id="js-form-approval">
			<div class="alert alert-success" role="alert">
	 			<b>Het formulier is correct ingevuld.</b>
			</div>
		</div>
		<div class="editor-knoppen">
			<div class="form-group">
				<button id="js-validate-form" class="knop" type="button">Valideren</button>
				<button id="js-save-form" class="knop" type="submit">Opslaan</button>
				<a class="knop" id="js-cancel-form" href="@routes.Add.cancel()">Annuleren</a>
			</div>
		</div>
	}
}